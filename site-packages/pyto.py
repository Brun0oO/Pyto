"""
This module contains classes from the main app used by Pyto.

This module is only for internal or plugin use.
"""

from rubicon.objc import *

NSBundle = ObjCClass("NSBundle")

def __isMainApp__():
    return (NSBundle.mainBundle.bundleURL.lastPathComponent == "Pyto.app" or NSBundle.mainBundle.bundleURL.lastPathComponent == "Pyto Mac.app")

def __is_appex__():
    return (NSBundle.mainBundle.bundleURL.pathExtension == "appex")

def __Class__(name):
    try:
        if (__isMainApp__()):
            return ObjCClass("Pyto."+name)
        elif __is_appex__():
            return ObjCClass("Pyto_Widget."+name)
        else:
            return ObjCClass("PytoCore."+name)
    except:
        return None

PyMainThread = __Class__("PyMainThread")
PyThread = __Class__("PyThread")

PyInputHelper = __Class__("PyInputHelper")
PyOutputHelper = __Class__("PyOutputHelper")
PySharingHelper = __Class__("PySharingHelper")
FilePicker = __Class__("PyFilePicker")
PyAlert = __Class__("PyAlert")
Python = __Class__("Python")
ConsoleViewController = __Class__("ConsoleViewController")

if __isMainApp__():
    QuickLookHelper = __Class__("QuickLookHelper")
    PySelector = __Class__("PySelector")
    SelectorTarget = __Class__("_Selector")
    REPLViewController = __Class__("REPLViewController")
    PipViewController = __Class__("PipViewController")
    ReviewHelper = __Class__("ReviewHelper")
    EditorViewController = __Class__("EditorViewController")
    EditorSplitViewController = __Class__("EditorSplitViewController")
    DocumentBrowserViewController = __Class__("DocumentBrowserViewController")
    ModulesTableViewController = __Class__("ModulesTableViewController")
else:
    QuickLookHelper = None
    PySelector = None
    SelectorTarget = None
    REPLViewController = None
    PipViewController = None
    ReviewHelper = None
    EditorViewController = None
    EditorSplitViewController = None
    DocumentBrowserViewController = None
    ModulesTableViewController = None

all = ["PyMainThread", "PyThread", "PyInputHelper", "PyOutputHelper", "PySharingHelper", "PySelector", "SelectorTarget", "FilePicker", "PyAlert", "Python", "ConsoleViewController", "ReviewHelper", "EditorViewController", "EditorSplitViewController", "REPLViewController", "QuickLookHelper"]
