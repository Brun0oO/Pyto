from pyto import __Class__
import random
import string

_PyValue = __Class__("PyValue")

def random_string(string_length=10):
    """
    Generate a random string of fixed length.
    Taken from 'https://pynative.com/python-generate-random-string/'.
    """

    letters = string.ascii_lowercase
    return ''.join(random.choice(letters) for i in range(string_length))

def value(object):
    
    if object in globals().values():
        for (key, item) in globals().items():
            if item is object:
                return _PyValue.alloc().initWithIdentifier(key)

    id = random_string()
    while (id in locals()):
        id = random_string()

    globals()[id] = object

    return _PyValue.alloc().initWithIdentifier(id)
